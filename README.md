# Проект: api_yamdb

## Описание проекта.
Проект YaMDb собирает отзывы пользователей на произведения. 
Проект создан в рамках группового проекта Яндекс.Практикум.

В данном проекте:
### 1. Категории.
Произведения делятся на **_категории_**, такие как "Книги", "Фильмы",
"Музыка". в категории «Книги» могут быть произведения «Винни-Пух и все-все-все»
и «Марсианские хроники», а в категории «Музыка» — песня «Давеча» группы «Жуки» 
и вторая сюита Баха. Список категорий может быть расширен (например, можно 
добавить категорию «Изобразительное искусство» или «Ювелирка»).

### 2. Жанр.
Произведению может быть присвоен **_жанр_** из списка предустановленных 
(например, «Сказка», «Рок» или «Артхаус»). 

Примечание:
**Добавлять произведения, категории и жанры может только
администратор.**

### 3. Отзывы.
Благодарные или возмущённые пользователи оставляют к произведениям текстовые
**_отзывы_** и ставят произведению оценку в диапазоне от одного до десяти (целое
число)

### 4. Рейтинг.
 Из оставленных пользователями оценок формируется усреднённая оценка
 произведения — **_рейтинг_**(целое число). _На одно произведение пользователь может
 оставить только один отзыв._

Примечание:
**Добавлять отзывы, комментарии и ставить оценки могут только аутентифицированные
пользователи.**


## Как запустить проект:
### Важное примечание!
В проекте для обеспечения безопасности из файла api_yamdb/settings.py, 
реализовано скрытие важных данных чтобы они не утекли в общий доступ. 
В корневой папке проекта необходимо создать файл с названием .env с указанием
следующих данных:
~~~
SECRET_KEY='<Ваш ключ из settings.py>'
~~~
### Клонировать репозиторий и перейти в него в командной строке:

~~~
https://github.com/dnaryshkin/api_yamdb.git
~~~

### Cоздать виртуальное окружение:

Для Windows:
~~~
python -m venv env
~~~
Для Linux/MacOS:
~~~
python3 -m venv env
~~~
### Активировать виртуальное окружение:
~~~
source env/Scripts/activate
~~~
### Обновить pip:

Для Windows:
~~~
python -m pip install --upgrade pip
~~~
Для Linux/MacOS:
~~~
python3 -m pip install --upgrade pip
~~~

### Установить зависимости из файла requirements.txt:
~~~
pip install -r requirements.txt
~~~
### Выполнить миграции:

Для Windows:
~~~
python manage.py migrate
~~~
Для Linux/MacOS:
~~~
python3 manage.py migrate
~~~

### Запустить проект:

Для Windows:
~~~
python manage.py runserver
~~~
Для Linux/MacOS:
~~~
python3 manage.py runserver
~~~

### Выполнить импорт данных из CSV-файлов:

Для Windows:
~~~
python manage.py import_csv
~~~
Для Linux/MacOS:
~~~
python3 manage.py import_csv
~~~

## Примеры запросов к API.

### Регистрация нового пользователя.
Получить код подтверждения на переданный email.
Использовать имя 'me' в качестве username запрещено. Поля email и username должны быть уникальными

**POST запрос**
~~~
http://127.0.0.1:8000/api/v1/auth/signup/
~~~

~~~
{
"email": "user@example.com",
"username": "^w\\Z"
}
~~~
### Получение JWT-токена
Получение JWT-токена в обмен на username и confirmation code

**POST запрос**
~~~
http://127.0.0.1:8000/api/v1/auth/token/
~~~
Пример запроса:
~~~
{
"username": "^w\\Z",
"confirmation_code": "string"
}
~~~

Получение списка всех произведений
**GET запрос**
~~~
http://127.0.0.1:8000/api/v1/titles/
~~~
Пример ответа:
~~~
{
"count": 0,
"next": "string",
"previous": "string",
"results": [
{}
]
}
~~~
### Получение информации о произведении
**GET запрос**
~~~
http://127.0.0.1:8000/api/v1/titles/{titles_id}/
~~~
Пример ответа:
~~~
{
"id": 0,
"name": "string",
"year": 0,
"rating": 0,
"description": "string",
"genre": [
{}
],
"category": {
"name": "string",
"slug": "^-$"
}
}
~~~

### Документация по запросам
Вы можете более детально ознакомится с возможностями проекта пройдя после запуска проекта по
~~~
http://127.0.0.1:8000/redoc/
~~~